{"is_source_file": true, "format": "Python", "description": "This source file provides database connection utilities for the Quiz backend, including establishing a MySQL connection pool, acquiring connections, and handling FastAPI lifecycle events.", "external_files": ["mysql.connector.pooling", "mysql.connector.Error as MySQLError"], "external_methods": ["os.getenv", "logging.info"], "published": ["init_pool", "get_connection", "close_pool"], "classes": [], "methods": [{"name": "dict _get_db_config()", "description": "Reads database configuration from environment variables and returns a dictionary for database connection parameters.", "scope": "", "scopeKind": ""}, {"name": "None init_pool(min_size: int = 1, max_size: int = 5)", "description": "Initializes a global MySQL connection pool with specified size, used during app startup.", "scope": "", "scopeKind": ""}, {"name": "get_connection()", "description": "Acquires a connection from the initialized connection pool.", "scope": "", "scopeKind": ""}, {"name": "None close_pool()", "description": "Closes or resets the connection pool, used during app shutdown.", "scope": "", "scopeKind": ""}], "calls": ["os.getenv", "pooling.MySQLConnectionPool", "_pool.get_connection", "logging.info", "_get_db_config", "conn.close()", "raise RuntimeError"], "search-terms": ["MySQL connection pool", "FastAPI startup and shutdown", "environment variable DB config", "quiz backend database utilities", "MySQL connection management"], "state": 2, "file_id": 5, "knowledge_revision": 17, "git_revision": "", "revision_history": [{"11": ""}, {"17": ""}], "ctags": [{"_type": "tag", "name": "ENV_MYSQL_DB", "path": "/home/kavia/workspace/code-generation/quiz-master-4204-4420/quiz_backend/src/api/db.py", "pattern": "/^ENV_MYSQL_DB = \"MYSQL_DB\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ENV_MYSQL_HOST", "path": "/home/kavia/workspace/code-generation/quiz-master-4204-4420/quiz_backend/src/api/db.py", "pattern": "/^ENV_MYSQL_HOST = \"MYSQL_HOST\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ENV_MYSQL_PASSWORD", "path": "/home/kavia/workspace/code-generation/quiz-master-4204-4420/quiz_backend/src/api/db.py", "pattern": "/^ENV_MYSQL_PASSWORD = \"MYSQL_PASSWORD\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ENV_MYSQL_PORT", "path": "/home/kavia/workspace/code-generation/quiz-master-4204-4420/quiz_backend/src/api/db.py", "pattern": "/^ENV_MYSQL_PORT = \"MYSQL_PORT\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ENV_MYSQL_USER", "path": "/home/kavia/workspace/code-generation/quiz-master-4204-4420/quiz_backend/src/api/db.py", "pattern": "/^ENV_MYSQL_USER = \"MYSQL_USER\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "MySQLError", "path": "/home/kavia/workspace/code-generation/quiz-master-4204-4420/quiz_backend/src/api/db.py", "pattern": "/^from mysql.connector import pooling, Error as MySQLError$/", "language": "Python", "kind": "unknown", "nameref": "unknown:Error"}, {"_type": "tag", "name": "_get_db_config", "path": "/home/kavia/workspace/code-generation/quiz-master-4204-4420/quiz_backend/src/api/db.py", "pattern": "/^def _get_db_config() -> dict:$/", "language": "Python", "typeref": "typename:dict", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_pool", "path": "/home/kavia/workspace/code-generation/quiz-master-4204-4420/quiz_backend/src/api/db.py", "pattern": "/^_pool: Optional[pooling.MySQLConnectionPool] = None$/", "language": "Python", "typeref": "typename:Optional[pooling.MySQLConnectionPool]", "kind": "variable"}, {"_type": "tag", "name": "close_pool", "path": "/home/kavia/workspace/code-generation/quiz-master-4204-4420/quiz_backend/src/api/db.py", "pattern": "/^def close_pool() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_connection", "path": "/home/kavia/workspace/code-generation/quiz-master-4204-4420/quiz_backend/src/api/db.py", "pattern": "/^def get_connection():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "init_pool", "path": "/home/kavia/workspace/code-generation/quiz-master-4204-4420/quiz_backend/src/api/db.py", "pattern": "/^def init_pool(min_size: int = 1, max_size: int = 5) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(min_size: int = 1, max_size: int = 5)"}], "hash": "53cfdc2e24cd275f439bed28e5879db1", "format-version": 4, "code-base-name": "quiz_backend", "filename": "quiz_backend/src/api/db.py", "fields": [{"name": "ENV_MYSQL_DB = \"MYSQL_DB\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ENV_MYSQL_HOST = \"MYSQL_HOST\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ENV_MYSQL_PASSWORD = \"MYSQL_PASSWORD\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ENV_MYSQL_PORT = \"MYSQL_PORT\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ENV_MYSQL_USER = \"MYSQL_USER\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[pooling.MySQLConnectionPool] _pool", "scope": "", "scopeKind": "", "description": "unavailable"}]}